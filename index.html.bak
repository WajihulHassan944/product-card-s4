<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  
    <!-- cdn icon link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- custom css file  -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>

</head>
<body>
<div class="game-box">
	
	<h1 class="game-box-header" >FANTASY FIGHTER GAME</h1>
	 
	 <div class="flexed-div">
	<div class="name name-one">Wajih</div>
	
	
	<div class="board">
	
	
	<div class="inputs">
	<hr>
	<p>11-1</p>
	<h3>RECORD</h3>
	<p>7-0</p>
	</div>
	
	<div class="inputs">
	<hr>
	<p>32</p>
	<h3>AGE</h3>
	<p>30</p>
	</div>
	
	<div class="inputs">
	<hr>
	<p>6'4"</p>
	<h3>HEIGHT</h3>
	<p>6'4"</p>
	</div>
	
	<div class="inputs">
	<hr>
	<p>265</p>
	<h3>WEIGHT</h3>
	<p>265</p>
	</div>
	
	<div class="inputs">
	<hr>
	<p>78"</p>
	<h3>REACH</h3>
	<p>83"</p>
	</div>
	
	
	
	
	</div>
	<div class="name name-two">Abdullah</div>
	
	
	</div>
	
	
	
	</div>
	<h6 style="font-size:23px; font-weight:600; color:#ccc; margin-bottom:10px;">My Predictions</h6>
	<p>(Your predictions will be visible to admins)</p>
	<form id="prediction-form">
  <!-- Input fields for predictions -->
    <div class="input-group">
    <label for="name-input">Your Name:</label>
    <input type="text" id="name-input" name="playerName" required>
  </div>
  <div class="input-group">
    <label for="hp-prediction">HP Prediction:</label>
    <input type="number" id="hp-prediction" name="hpPrediction" min="0">
  </div>
  
  <div class="input-group">
    <label for="bp-prediction">BP Prediction:</label>
    <input type="number" id="bp-prediction" name="bpPrediction" min="0">
  </div>
  
  <div class="input-group">
    <label for="tp-prediction">TP Prediction:</label>
    <input type="number" id="tp-prediction" name="tpPrediction" min="0">
  </div>
  
  <div class="input-group">
    <label for="rw-prediction">RW Prediction:</label>
    <select id="rw-prediction" name="rwPrediction">
      <option value="1">Fighter A (Red)</option>
      <option value="2">Fighter B (Blue)</option>
    </select>
  </div>
  
  <div class="input-group">
    <label for="ko-sp-prediction">KO or SP Prediction:</label>
    <select id="ko-sp-prediction" name="koSpPrediction">
      <option value="KO">KO</option>
      <option value="SP">Survival Points</option>
    </select>
  </div>
  
  <!-- Add more input fields for other predictions -->
  
  <button type="submit">Submit Predictions</button>
</form>
<style>
/* Basic form styling */
#prediction-form {
  width: 400px;
  margin: 0 auto;
  padding: 20px;
  background-color: #f5f5f5;
  border: 1px solid #ddd;
  border-radius: 5px;
  margin-bottom:100px;
}

.input-group {
  margin-bottom: 15px;
}

/* Label styling */
label {
  font-weight: bold;
  display: block;
  margin-bottom: 5px;
}

/* Input field styling */
input[type="text"],
input[type="number"],
select {
  width: 100%;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

/* Button styling */
button {
  background-color: #007bff;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background-color: #0056b3;
}

/* Centering the form */
#prediction-form {
  display: flex;
  flex-direction: column;
  align-items: center;
  align-items:center;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', async () => {
  // Fetch scores from the backend, update scores on the page
  
  const predictionForm = document.getElementById('prediction-form');
  predictionForm.addEventListener('submit', async (event) => {
    event.preventDefault();
    
    const formData = new FormData(predictionForm);
	const playerName = formData.get('playerName'); // Get the entered name
    
    const playerPredictions = {
     player: playerName, // Use the entered name as the player
       round: 1,
      scores: {
        HP: formData.get('hpPrediction'),  // Use 'hpPrediction' matching the input name attribute
        BP: formData.get('bpPrediction'),
        TP: formData.get('tpPrediction'),
        RW: formData.get('rwPrediction'),
        KO_SP: formData.get('koSpPrediction'),  // Assuming you use a single field for KO/SP
        // Add other predictions
      },
    };

    try {
      const response = await fetch('https://lovely-mite-leg-warmers.cyclic.app/api/scores', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(playerPredictions),
      });
      if (response.ok) {
        alert('Predictions submitted successfully');
      } else {
        console.error('Failed to submit predictions');
      }
    } catch (error) {
      console.error('Error submitting predictions:', error);
    }
  });

  // Rest of your code for fetching scores and button clicks
});

</script>
 </body>
</html>
